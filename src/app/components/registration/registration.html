<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-12 col-lg-6">
            <div class="card-body" id="registrationDiv">
                <form id="registrationForm" method="POST" ng-submit="btnRegister(form)">
                    <h1 class="text-center pb-4">Registrar usuario</h1>
                    <div class="form-group">
                        <label for="userName" class="is-required">Nombre</label>
                        <input type="text" class="form-control custom-input" name="userName"
                            placeholder="Ingrese su nombre" value="" ng-model="form.name" required>
                    </div>

                    <div class="form-group">
                        <label for="email" class="is-required">Email</label>
                        <input type="email" class="form-control custom-input" name="email"
                            placeholder="Ingrese su email" value="" ng-model="form.email" required>
                    </div>

                    <div class="form-group">
                        <label>Foto de perfil:</label><br>
                        <label class="custom-file-upload btn btn-block btn-success col-12">
                            <input type="file"
                                   name="file"
                                   accept="image/png, image/jpeg"
                                   id="file"
                                   onchange="angular.element(this).scope().previewFile(this.files[0])">
                            <i class="fas fa-upload mr-2"></i> Seleccionar foto
                        </label>

                        <!-- Vista previa -->
                        <div ng-if="previewSrc" class="mt-3 d-flex flex-column align-items-center">
                            <img ng-src="{{previewSrc}}"
                                 alt="Vista previa"
                                 class="rounded-circle shadow preview-img"
                                 style="width: 150px; height: 150px; object-fit: cover; border: 2px solid #28a745;">

                            <button class="btn btn-danger btn-sm mt-3 d-block mx-auto" ng-click="removePhoto()">
                                <i class="fas fa-trash-alt mr-1"></i> Eliminar foto
                            </button>
                        </div>
                    </div>

                    <div class="form-group">
                        <textarea class="custom-input w-100" id="description" name="description" rows="3"
                                  maxlength="280" ng-model="form.description" placeholder="Contanos un poco sobre vos..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="contact" class="is-required">Contacto</label>
                        <br>

                        <div class="d-flex pb-4" ng-repeat="contact_inf in contact_inf_list track by $index" style="gap: 10px;">
                            <select class="custom-select custom-input" name="platform"
                                    ng-model="contact_inf.platform" required
                                    ng-options="option as option.name for option in contactOptions track by option.id_contact_inf"
                                    style="flex: 1;">
                            </select>
                            <input type="text" class="form-control custom-input" name="id"
                                   placeholder="Ingrese su cuenta o id" value="" required ng-model="contact_inf.account"
                                   style="flex: 2;">
                        </div>
                        <div class="d-flex flex-column justify-content-around align-items-end">
                            <button class="btn btn-block btn-success col-12" type="button"
                                ng-click="btnAddAccount()">Agregar otra cuenta</button>
                            <button class="btn btn-block btn-danger col-12" type="button" ng-click="btnRemoveLast()"
                                ng-if="contact_inf_list.length > 1">Eliminar último</button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="password" class="is-required">Contraseña</label>
                        <div class="position-relative">
                            <input type="{{showPasswords ? 'text' : 'password'}}"
                                   class="form-control custom-input"
                                   name="password"
                                   placeholder="**********"
                                   ng-model="form.password"
                                   required>
                            <i class="fa password-toggle-icon"
                               ng-class="showPasswords ? 'fa-eye-slash' : 'fa-eye'"
                               ng-click="showPasswords = !showPasswords">
                            </i>
                        </div>
                        <p id="imagenHelp" class="form-text">
                            Su contraseña debe contener <b class="text-danger">8</b> caracteres como mínimo.
                        </p>
                    </div>

                    <div class="form-group">
                        <label for="passwordConfirm" class="is-required">Repetir Contraseña</label>
                        <div class="position-relative">
                            <input type="{{showPasswords ? 'text' : 'password'}}"
                                   class="form-control custom-input"
                                   name="passwordConfirm"
                                   placeholder="**********"
                                   ng-model="form.passwordConfirm"
                                   required>
                            <i class="fa password-toggle-icon"
                               ng-class="showPasswords ? 'fa-eye-slash' : 'fa-eye'"
                               ng-click="showPasswords = !showPasswords">
                            </i>
                        </div>
                    </div>

                    <div class="form-group">
                        <a href="" class="text-decoration-none" ng-click="showTerms()">Ver términos y condiciones</a><br>
                        <input type="checkbox" name="terms" id="terms" required> Aceptar términos y condiciones
                    </div>

                    <button id="registration" class="btn btn-block btn-success">Registrarse</button>
                </form>
                <form>
                    <br>
                    <h2 class="text-center pb-4">Ya tienes una cuenta?</h2>
                    <button class="btn btn-block btn-success" ui-sref="login" id="toggle">Iniciar sesión</button>
                </form>
            </div>
        </div>
    </div>
</div>